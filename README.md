# genBarcodeTool (EAN-13)

ブラウザだけで **EAN-13 バーコードを一括生成**できる、シンプルな静的ツールです。  
入力は改行区切り。**12桁**（チェックディジット自動付与）と **13桁**（検証）に対応。  
描画は **SVG（ベクタ）** なので拡大・印刷でも劣化しません。

- デモ/実体: `index.html`（1ファイル完結・オフライン可）
- リポジトリ: <https://github.com/totkd/EAN13>

---

## 特長

-  **12桁**入力ならチェックディジット（13桁目）を自動計算  
-  **13桁**入力ならチェックディジットを検証し、誤り時に **「もしかして」候補** を提示  
-  **重複除外**（同一EANは **先勝1個** だけ生成）、重複リストを別途表示  
-  実行結果を **サマリ** 表示  
  - 入力 / 生成 / 重複 / 失敗 の件数  
  - 詳細リスト（重複・失敗。失敗は候補つき）
-  **サイズ切替（S / M / L）**  
  - **S**: 画面幅に追従するレスポンシブ（`auto-fit`）  
  - **M**: 5列固定（デフォルト、やや小さめ）  
  - **L**: 3列固定（大きめ）
-  **通し番号バッジ**（黒地に白文字／サイズモードに追従）  
-  **CLEAR** ボタンで入力・出力を一括クリア  
-  200件以上は **注意喚起**  
-  **印刷向け CSS**（入力UIは非表示、各カードは改ページで分割されにくい）

---

## 使い方

1. [開く(GithubPages)](https://totkd.github.io/EAN13/)
2. テキストエリアに **改行区切り** でコードを貼り付け  
   - 例）  
     ```
     2712040057880
     2790001112223
     ```
   - 数字以外のスペースやハイフンは自動で無視（`12-34 567890` → `1234567890` 相当）
3. **Go!** を押す  
4. 下部にバーコードが並び、左上に通し番号。上部にサマリが出ます  
5. **CLEAR** で入力と出力を全消し

> **注意**: 13桁入力でチェックディジットが不正な場合は、前12桁から計算した **「もしかして」** を併記します（前12桁が数字以外を含む場合は提示なし）。

---

## 画面構成

- 入力パネル  
  - テキストエリア、**Go! / CLEAR** ボタン、**S / M / L** ラジオ
- ステータス  
  - **「N件に対してM件生成しました。」**（強調表示）  
  - **サマリ**（入力 / 生成 / 重複 / 失敗）  
  - 重複リスト、失敗リスト（必要時のみ。失敗は候補つき）
- 出力グリッド  
  - **S**: 画面幅に合わせて列数可変（`auto-fit, minmax(180px, 1fr)`）  
  - **M**: 5列固定（カード幅 240px、余白控えめ）  
  - **L**: 3列固定（カード幅 360px）

---

## 技術メモ

### 実装の概要
- **依存ゼロ**（ビルド不要、CDN不要）
- すべてのロジックは `index.html` に内包
- 描画は **SVG**。各バーは連続ビットを矩形にまとめて最小パスで出力
- **人間可読部**は `1 6 6` のグルーピング（例: `2 712039 650788`）

### EAN-13 のチェックディジット
- 左から 1,3,5,7,9,11 桁目を **×1**、2,4,6,8,10,12 桁目を **×3** で加算  
- 合計値を **10で割った余り** を `r` とすると、**(10 - r) % 10** が13桁目

### フォント
- UI（日本語）: **IBM Plex Sans JP**（Google Fonts）
- 数字系（人間可読・バッジ・入力欄）: **JetBrains Mono**（Google Fonts）  
  - `font-variant-numeric: tabular-nums;`  
  - `font-feature-settings: "zero" 1;`（スラッシュ0）

### 調整しやすい定数（`index.html` 内）
- `MODULE_PX` … 1モジュールの基準px（整数がにじみに強い）
- `QUIET_MODULES` … 左右のクワイエットゾーン（推奨 9–11）
- `NORMAL_BAR_H` / `GUARD_EXTEND` … 通常バー高さ／ガードバー延長
- `HR_FONT_SIZE` … 人間可読テキストのサイズ
- グリッド寸法は CSS 変数（`--card-w`, `--row-gap`, `--col-gap` など）

---

## よくある質問

### Q. 12桁と13桁が混在していても大丈夫？
A. 大丈夫です。12桁は13桁化してから、13桁は検証してから処理します。**重複判定**は最終13桁のEAN値で行います。

### Q. どんな環境で動きますか？
A. SVGをサポートしていればOK。モバイルでも動作します。

### Q. 印刷に向いていますか？
A. 向いています。SVGベクタ描画＆`@media print`対応です。必要に応じて **L** サイズへ切替、もしくは `HR_FONT_SIZE` を上げてください。

### Q. 失敗の「もしかして」が出ないのはなぜ？
A. 入力の前12桁が数字だけではなかった場合（英字等を含む）、または桁数が12/13以外のときは計算できないため、候補は表示しません。

---

### クレジット
	アイコン: GitHub Octicons（MIT）
	フォント: IBM Plex Sans JP, JetBrains Mono（Google Fonts）
 このツールは各現場の運用基準・印刷要件に合わせて十分に検証の上ご利用ください！




